<div class="my-5 py-5">
  <h1 class="h2">Register:</h1>

  <form [formGroup]="registerForm" (ngSubmit)="registerSubmit()">
    <div class="mb-3">
      <label for="name">name: </label>
      <input class="form-label" formControlName="name" type="text" class="form-control" id="name" />
      @if ( registerForm.get('name')?.errors && registerForm.get('name')?.touched ) {
      <div class="alert alert-danger mt-3" role="alert">
        @if(registerForm.get('name')?.getError('required')){ required } 
      
        @else if(registerForm.get('name')?.getError('minlength')) {Name Should be more than or equal 3 chars} 
        
        @else if (registerForm.get('name')?.getError('maxlength')) {Name Should be less than or equal 20 chars} 
       
        @else if (registerForm.get('name')?.getError('pattern')) {Name Should be begin at least with one letter }
     
      </div>
      }
    </div>

    <div class="mb-3">
      <label for="email">Email: </label>
      <input
        class="form-label"
        formControlName="email"
        type="email"
        class="form-control"
        id="email"
      />
      @if ( registerForm.get('email')?.errors && registerForm.get('email')?.touched ) {
      <div class="alert alert-danger mt-3" role="alert">
        @if(registerForm.get('email')?.getError('required')) { required } 
        @else if(registerForm.get('email')?.getError('email')) {email pattern is invalid}
      </div>
      }
    </div>

    <div class="mb-3">
      <label for="Password">Password: </label>
      <input
        class="form-label"
        formControlName="password"
        type="password"
        class="form-control"
        id="Password"
      />

      @if ( registerForm.get('password')?.errors && registerForm.get('password')?.touched ) {
      <div class="alert alert-danger mt-3" role="alert">
        @if(registerForm.get('password')?.getError('required')) { required }
        @else if (registerForm.get('password')?.getError('pattern')) {must be 
        * Start with a letter (either uppercase or lowercase). 
        * Be between 6 and 9 characters in total. 
        * must be only contain  letters (A-Z or a-z) and numbers (0-9) and /*-+%#! 
        *Pa$$w0rd! }
      </div>
      }
    </div>

    <div class="mb-3">
      <label for="rePassword">Re-Password: </label>

      <input
        class="form-label"
        formControlName="rePassword"
        type="password"
        class="form-control"
        id="rePassword"
      />

      @if ( registerForm.getError('mismatch') && registerForm.get('rePassword')?.touched ) {

      <div class="alert alert-danger mt-3" role="alert">Password confirmation is incorrect</div>
      }
    </div>

    <div class="mb-5">
      <label for="phone">phone :</label>
      <input
        class="form-label"
        formControlName="phone"
        type="text"
        class="form-control"
        id="phone"
      />

      @if ( registerForm.get('phone')?.errors && registerForm.get('phone')?.touched ) {
      <div class="alert alert-danger mt-3" role="alert">
      @if(registerForm.get('phone')?.getError('required')) { required } @else if
        (registerForm.get('phone')?.getError('pattern')) {invalid egyptian number }
      </div>
      }
    </div>
     @if (msgError) {
      <div class="alert alert-danger mt-3" role="alert">{{msgError}}</div>
      }
    <button [disabled]="registerForm.invalid||loading" type="submit" class="d-block btn-main ms-auto mb-5">
      Register now @if (loading) {
        <i class="fas fa-spin fa-spinner" ></i>
      }
    </button>
    
  </form>
</div>

<!-- Pa$$w0rd! >>>>kunuponad@mailinator.com or sydovu@mailinator.com-->
